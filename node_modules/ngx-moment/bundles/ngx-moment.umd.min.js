!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("moment")):"function"==typeof define&&define.amd?define("ngx-moment",["exports","@angular/core","moment"],t):t(e["ngx-moment"]={},e.ng.core,e.moment)}(this,function(e,r,u){"use strict";var n=u,t=function(){function e(){}return e.prototype.transform=function(e,t,r){if(void 0===t||"number"==typeof t&&void 0===r)throw new Error("AddPipe: missing required arguments");return n(e).add(t,r)},e.decorators=[{type:r.Pipe,args:[{name:"amAdd"}]}],e}(),s=u,o=function(){function n(e,t){var r=this;this.cdRef=e,this.ngZone=t,n.initTimer(t),n.refs++,this.midnightSub=n.midnight.subscribe(function(){r.ngZone.run(function(){return r.cdRef.markForCheck()})})}return n.prototype.transform=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];for(var n=null,o=null,i=0,a=t.length;i<a;i++)null!==t[i]&&("object"!=typeof t[i]||u.isMoment(t[i])?o=s(t[i]):n=t[i]);return s(e).calendar(o,n)},n.prototype.ngOnDestroy=function(){0<n.refs&&n.refs--,0===n.refs&&n.removeTimer(),this.midnightSub.unsubscribe()},n.initTimer=function(e){if(!n.midnight&&(n.midnight=new r.EventEmitter,"undefined"!=typeof window)){var t=n._getMillisecondsUntilUpdate();n.timer=e.runOutsideAngular(function(){return window.setTimeout(function(){n.midnight.emit(new Date),n.removeTimer(),n.initTimer(e)},t)})}},n.removeTimer=function(){n.timer&&(window.clearTimeout(n.timer),n.timer=null,n.midnight=null)},n._getMillisecondsUntilUpdate=function(){var e=s();return s().startOf("day").add(1,"days").valueOf()-e.valueOf()+1e3},n.refs=0,n.timer=null,n.midnight=null,n.decorators=[{type:r.Pipe,args:[{name:"amCalendar",pure:!1}]}],n.ctorParameters=function(){return[{type:r.ChangeDetectorRef},{type:r.NgZone}]},n}(),i=u,a=function(){function e(){}return e.prototype.transform=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return e?i(e).format(t[0]):""},e.decorators=[{type:r.Pipe,args:[{name:"amDateFormat"}]}],e}(),f=u,c=function(){function e(){}return e.prototype.transform=function(e,t,r,n){var o=f(e),i=null!==t?f(t):f();return o.diff(i,r,n)},e.decorators=[{type:r.Pipe,args:[{name:"amDifference"}]}],e}(),m=new r.InjectionToken("NGX_MOMENT_OPTIONS"),p=function(){function e(e){this.allowedUnits=["ss","s","m","h","d","M"],this._applyOptions(e)}return e.prototype.transform=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(void 0===t||1!==t.length)throw new Error("DurationPipe: missing required time unit argument");return u.duration(e,t[0]).humanize()},e.prototype._applyOptions=function(t){var r=this;t&&(t.relativeTimeThresholdOptions&&Object.keys(t.relativeTimeThresholdOptions).filter(function(e){return-1!==r.allowedUnits.indexOf(e)}).forEach(function(e){u.relativeTimeThreshold(e,t.relativeTimeThresholdOptions[e])}))},e.decorators=[{type:r.Pipe,args:[{name:"amDuration"}]}],e.ctorParameters=function(){return[{type:undefined,decorators:[{type:r.Optional},{type:r.Inject,args:[m]}]}]},e}(),l=function(){function e(){}return e.prototype.transform=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return"string"==typeof e&&(e=+e),u.unix(e)},e.decorators=[{type:r.Pipe,args:[{name:"amFromUnix"}]}],e}(),d=u,h=function(){function e(){}return e.prototype.transform=function(e,t){return d(e,t)},e.decorators=[{type:r.Pipe,args:[{name:"amParse"}]}],e}(),g=Object.assign||function g(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},y=function(){function e(){}return e.prototype.transform=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return u.utc(e)},e.decorators=[{type:r.Pipe,args:[{name:"amFromUtc"}]}],e}(),T=u,P=function(){function e(){}return e.prototype.transform=function(e,t,r){return T(e).isAfter(T(t),r)},e.decorators=[{type:r.Pipe,args:[{name:"amIsAfter"}]}],e}(),v=u,O=function(){function e(){}return e.prototype.transform=function(e,t,r){return v(e).isBefore(v(t),r)},e.decorators=[{type:r.Pipe,args:[{name:"amIsBefore"}]}],e}(),w=u,b=function(){function e(){}return e.prototype.transform=function(e){return w(e).local()},e.decorators=[{type:r.Pipe,args:[{name:"amLocal"}]}],e}(),x=u,M=function(){function e(){}return e.prototype.transform=function(e,t){return x(e).locale(t)},e.decorators=[{type:r.Pipe,args:[{name:"amLocale"}]}],e}(),U=function(){function e(){}return e.prototype.transform=function(e){return u.parseZone(e)},e.decorators=[{type:r.Pipe,args:[{name:"amParseZone"}]}],e}(),D=u,S=function(){function e(){}return e.prototype.transform=function(e,t,r){if(void 0===t||"number"==typeof t&&void 0===r)throw new Error("SubtractPipe: missing required arguments");return D(e).subtract(t,r)},e.decorators=[{type:r.Pipe,args:[{name:"amSubtract"}]}],e}(),A=u,Z=function(){function e(e,t){this.cdRef=e,this.ngZone=t}return e.prototype.transform=function(e,t){return this.hasChanged(e,t)?(this.lastTime=this.getTime(e),this.lastValue=e,this.lastOmitSuffix=t,this.lastLocale=this.getLocale(e),this.removeTimer(),this.createTimer(),this.lastText=A(e).from(A(),t)):this.createTimer(),this.lastText},e.prototype.ngOnDestroy=function(){this.removeTimer()},e.prototype.createTimer=function(){var e=this;if(!this.currentTimer){var t=A(this.lastValue),r=1e3*this.getSecondsUntilUpdate(t);this.currentTimer=this.ngZone.runOutsideAngular(function(){return"undefined"!=typeof window?window.setTimeout(function(){e.lastText=A(e.lastValue).from(A(),e.lastOmitSuffix),e.currentTimer=null,e.ngZone.run(function(){return e.cdRef.markForCheck()})},r):null})}},e.prototype.removeTimer=function(){this.currentTimer&&(window.clearTimeout(this.currentTimer),this.currentTimer=null)},e.prototype.getSecondsUntilUpdate=function(e){var t=Math.abs(A().diff(e,"minute"));return t<1?1:t<60?30:t<180?300:3600},e.prototype.hasChanged=function(e,t){return this.getTime(e)!==this.lastTime||this.getLocale(e)!==this.lastLocale||t!==this.lastOmitSuffix},e.prototype.getTime=function(e){return u.isDate(e)?e.getTime():u.isMoment(e)?e.valueOf():A(e).valueOf()},e.prototype.getLocale=function(e){return u.isMoment(e)?e.locale():u.locale()},e.decorators=[{type:r.Pipe,args:[{name:"amTimeAgo",pure:!1}]}],e.ctorParameters=function(){return[{type:r.ChangeDetectorRef},{type:r.NgZone}]},e}(),_=u,L=function(){function e(){}return e.prototype.transform=function(e){return _(e).utc()},e.decorators=[{type:r.Pipe,args:[{name:"amUtc"}]}],e}(),N=[t,o,a,c,p,l,h,S,Z,L,y,b,M,U,O,P],j=function(){function t(){}return t.forRoot=function(e){return{ngModule:t,providers:[{provide:m,useValue:g({},e)}]}},t.decorators=[{type:r.NgModule,args:[{declarations:N,exports:N}]}],t}();e.AddPipe=t,e.CalendarPipe=o,e.DateFormatPipe=a,e.DifferencePipe=c,e.DurationPipe=p,e.FromUnixPipe=l,e.ParsePipe=h,e.MomentModule=j,e.SubtractPipe=S,e.TimeAgoPipe=Z,e.UtcPipe=L,e.FromUtcPipe=y,e.LocalTimePipe=b,e.LocalePipe=M,e.ParseZonePipe=U,e.IsBeforePipe=O,e.IsAfterPipe=P,e.NGX_MOMENT_OPTIONS=m,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=ngx-moment.umd.min.js.map